#pragma once
#include "MainForm.h"

namespace courseWork {

	using namespace System;
	using namespace System::ComponentModel;
	using namespace System::Collections;
	using namespace System::Windows::Forms;
	using namespace System::Data;
	using namespace System::Drawing;
	using namespace System::IO;
	using namespace System::Resources;
	using namespace System::Reflection;

	/// <summary>
	/// Ñâîäêà äëÿ EntryForm
	/// </summary>
	public ref class EntryForm : public System::Windows::Forms::Form
	{
	public:
		EntryForm(void)
		{
			InitializeComponent();
			//
			//TODO: äîáàâüòå êîä êîíñòğóêòîğà
			//
		}

	protected:
		/// <summary>
		/// Îñâîáîäèòü âñå èñïîëüçóåìûå ğåñóğñû.
		/// </summary>
		~EntryForm()
		{
			if (components)
			{
				delete components;
			}
		}
	private: System::Windows::Forms::TextBox^ LoginTextBox;
	private: System::Windows::Forms::TextBox^ PasswordTextBox;
	private: System::Windows::Forms::Button^ EntryButton;
	private: System::Windows::Forms::Label^ label1;
	private: System::Windows::Forms::Label^ LoginLabel1;
	private: System::Windows::Forms::Label^ PassworLabel2;
	private: System::Windows::Forms::Label^ label2;
	private: System::Windows::Forms::LinkLabel^ linkLabel1;
	private: System::Windows::Forms::MenuStrip^ menuStrip1;
	private: System::Windows::Forms::ToolStripMenuItem^ íàñòğîéêèToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ ÿçûêToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ òåìàToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ ñâåòëàÿToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ òåìíàÿToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ pinkyToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ ğóññêèéToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ áåëàğóñê³ToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ englishToolStripMenuItem;
	private: System::Windows::Forms::Button^ buttonPassVision;



	private:
		/// <summary>
		/// Îáÿçàòåëüíàÿ ïåğåìåííàÿ êîíñòğóêòîğà.
		/// </summary>
		System::ComponentModel::Container^ components;

#pragma region Windows Form Designer generated code
		/// <summary>
		/// Òğåáóåìûé ìåòîä äëÿ ïîääåğæêè êîíñòğóêòîğà — íå èçìåíÿéòå 
		/// ñîäåğæèìîå ıòîãî ìåòîäà ñ ïîìîùüş ğåäàêòîğà êîäà.
		/// </summary>
		void InitializeComponent(void)
		{
			System::ComponentModel::ComponentResourceManager^ resources = (gcnew System::ComponentModel::ComponentResourceManager(EntryForm::typeid));
			this->LoginTextBox = (gcnew System::Windows::Forms::TextBox());
			this->PasswordTextBox = (gcnew System::Windows::Forms::TextBox());
			this->EntryButton = (gcnew System::Windows::Forms::Button());
			this->label1 = (gcnew System::Windows::Forms::Label());
			this->LoginLabel1 = (gcnew System::Windows::Forms::Label());
			this->PassworLabel2 = (gcnew System::Windows::Forms::Label());
			this->label2 = (gcnew System::Windows::Forms::Label());
			this->linkLabel1 = (gcnew System::Windows::Forms::LinkLabel());
			this->menuStrip1 = (gcnew System::Windows::Forms::MenuStrip());
			this->íàñòğîéêèToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->ÿçûêToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->ğóññêèéToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->áåëàğóñê³ToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->englishToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->òåìàToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->ñâåòëàÿToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->òåìíàÿToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->pinkyToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->buttonPassVision = (gcnew System::Windows::Forms::Button());
			this->menuStrip1->SuspendLayout();
			this->SuspendLayout();
			// 
			// LoginTextBox
			// 
			this->LoginTextBox->BorderStyle = System::Windows::Forms::BorderStyle::None;
			resources->ApplyResources(this->LoginTextBox, L"LoginTextBox");
			this->LoginTextBox->ForeColor = System::Drawing::Color::Black;
			this->LoginTextBox->Name = L"LoginTextBox";
			this->LoginTextBox->Enter += gcnew System::EventHandler(this, &EntryForm::LoginTextBox_Enter);
			this->LoginTextBox->KeyPress += gcnew System::Windows::Forms::KeyPressEventHandler(this, &EntryForm::LoginTextBox_KeyPress);
			this->LoginTextBox->Leave += gcnew System::EventHandler(this, &EntryForm::LoginTextBox_Leave);
			// 
			// PasswordTextBox
			// 
			this->PasswordTextBox->BorderStyle = System::Windows::Forms::BorderStyle::None;
			resources->ApplyResources(this->PasswordTextBox, L"PasswordTextBox");
			this->PasswordTextBox->ForeColor = System::Drawing::Color::Black;
			this->PasswordTextBox->Name = L"PasswordTextBox";
			this->PasswordTextBox->Enter += gcnew System::EventHandler(this, &EntryForm::PasswordTextBox_Enter);
			this->PasswordTextBox->KeyPress += gcnew System::Windows::Forms::KeyPressEventHandler(this, &EntryForm::PasswordTextBox_KeyPress);
			this->PasswordTextBox->Leave += gcnew System::EventHandler(this, &EntryForm::PasswordTextBox_Leave);
			// 
			// EntryButton
			// 
			this->EntryButton->BackColor = System::Drawing::Color::Turquoise;
			resources->ApplyResources(this->EntryButton, L"EntryButton");
			this->EntryButton->Name = L"EntryButton";
			this->EntryButton->UseVisualStyleBackColor = false;
			this->EntryButton->Click += gcnew System::EventHandler(this, &EntryForm::EntryButton_Click);
			// 
			// label1
			// 
			resources->ApplyResources(this->label1, L"label1");
			this->label1->BackColor = System::Drawing::Color::Transparent;
			this->label1->ForeColor = System::Drawing::Color::Black;
			this->label1->Name = L"label1";
			// 
			// LoginLabel1
			// 
			resources->ApplyResources(this->LoginLabel1, L"LoginLabel1");
			this->LoginLabel1->BackColor = System::Drawing::Color::White;
			this->LoginLabel1->Name = L"LoginLabel1";
			this->LoginLabel1->Click += gcnew System::EventHandler(this, &EntryForm::LoginLabel1_Click);
			// 
			// PassworLabel2
			// 
			resources->ApplyResources(this->PassworLabel2, L"PassworLabel2");
			this->PassworLabel2->BackColor = System::Drawing::Color::White;
			this->PassworLabel2->Name = L"PassworLabel2";
			this->PassworLabel2->Click += gcnew System::EventHandler(this, &EntryForm::PassworLabel2_Click);
			// 
			// label2
			// 
			resources->ApplyResources(this->label2, L"label2");
			this->label2->BackColor = System::Drawing::Color::Transparent;
			this->label2->Name = L"label2";
			// 
			// linkLabel1
			// 
			resources->ApplyResources(this->linkLabel1, L"linkLabel1");
			this->linkLabel1->BackColor = System::Drawing::Color::Transparent;
			this->linkLabel1->LinkColor = System::Drawing::Color::Black;
			this->linkLabel1->Name = L"linkLabel1";
			this->linkLabel1->TabStop = true;
			this->linkLabel1->LinkClicked += gcnew System::Windows::Forms::LinkLabelLinkClickedEventHandler(this, &EntryForm::linkLabel1_LinkClicked);
			// 
			// menuStrip1
			// 
			this->menuStrip1->BackColor = System::Drawing::Color::Transparent;
			this->menuStrip1->ImageScalingSize = System::Drawing::Size(20, 20);
			this->menuStrip1->Items->AddRange(gcnew cli::array< System::Windows::Forms::ToolStripItem^  >(1) { this->íàñòğîéêèToolStripMenuItem });
			resources->ApplyResources(this->menuStrip1, L"menuStrip1");
			this->menuStrip1->Name = L"menuStrip1";
			// 
			// íàñòğîéêèToolStripMenuItem
			// 
			this->íàñòğîéêèToolStripMenuItem->BackColor = System::Drawing::Color::Transparent;
			this->íàñòğîéêèToolStripMenuItem->DropDownItems->AddRange(gcnew cli::array< System::Windows::Forms::ToolStripItem^  >(2) {
				this->ÿçûêToolStripMenuItem,
					this->òåìàToolStripMenuItem
			});
			resources->ApplyResources(this->íàñòğîéêèToolStripMenuItem, L"íàñòğîéêèToolStripMenuItem");
			this->íàñòğîéêèToolStripMenuItem->Name = L"íàñòğîéêèToolStripMenuItem";
			this->íàñòğîéêèToolStripMenuItem->DropDownClosed += gcnew System::EventHandler(this, &EntryForm::íàñòğîéêèToolStripMenuItem_DropDownClosed);
			this->íàñòğîéêèToolStripMenuItem->DropDownOpening += gcnew System::EventHandler(this, &EntryForm::íàñòğîéêèToolStripMenuItem_DropDownOpening);
			// 
			// ÿçûêToolStripMenuItem
			// 
			this->ÿçûêToolStripMenuItem->DropDownItems->AddRange(gcnew cli::array< System::Windows::Forms::ToolStripItem^  >(3) {
				this->ğóññêèéToolStripMenuItem,
					this->áåëàğóñê³ToolStripMenuItem, this->englishToolStripMenuItem
			});
			resources->ApplyResources(this->ÿçûêToolStripMenuItem, L"ÿçûêToolStripMenuItem");
			this->ÿçûêToolStripMenuItem->Name = L"ÿçûêToolStripMenuItem";
			// 
			// ğóññêèéToolStripMenuItem
			// 
			resources->ApplyResources(this->ğóññêèéToolStripMenuItem, L"ğóññêèéToolStripMenuItem");
			this->ğóññêèéToolStripMenuItem->Name = L"ğóññêèéToolStripMenuItem";
			this->ğóññêèéToolStripMenuItem->Click += gcnew System::EventHandler(this, &EntryForm::ğóññêèéToolStripMenuItem_Click);
			// 
			// áåëàğóñê³ToolStripMenuItem
			// 
			resources->ApplyResources(this->áåëàğóñê³ToolStripMenuItem, L"áåëàğóñê³ToolStripMenuItem");
			this->áåëàğóñê³ToolStripMenuItem->Name = L"áåëàğóñê³ToolStripMenuItem";
			this->áåëàğóñê³ToolStripMenuItem->Click += gcnew System::EventHandler(this, &EntryForm::áåëàğóñê³ToolStripMenuItem_Click);
			// 
			// englishToolStripMenuItem
			// 
			resources->ApplyResources(this->englishToolStripMenuItem, L"englishToolStripMenuItem");
			this->englishToolStripMenuItem->Name = L"englishToolStripMenuItem";
			this->englishToolStripMenuItem->Click += gcnew System::EventHandler(this, &EntryForm::englishToolStripMenuItem_Click);
			// 
			// òåìàToolStripMenuItem
			// 
			this->òåìàToolStripMenuItem->DropDownItems->AddRange(gcnew cli::array< System::Windows::Forms::ToolStripItem^  >(3) {
				this->ñâåòëàÿToolStripMenuItem,
					this->òåìíàÿToolStripMenuItem, this->pinkyToolStripMenuItem
			});
			resources->ApplyResources(this->òåìàToolStripMenuItem, L"òåìàToolStripMenuItem");
			this->òåìàToolStripMenuItem->Name = L"òåìàToolStripMenuItem";
			// 
			// ñâåòëàÿToolStripMenuItem
			// 
			resources->ApplyResources(this->ñâåòëàÿToolStripMenuItem, L"ñâåòëàÿToolStripMenuItem");
			this->ñâåòëàÿToolStripMenuItem->Name = L"ñâåòëàÿToolStripMenuItem";
			this->ñâåòëàÿToolStripMenuItem->Click += gcnew System::EventHandler(this, &EntryForm::ñâåòëàÿToolStripMenuItem_Click);
			// 
			// òåìíàÿToolStripMenuItem
			// 
			resources->ApplyResources(this->òåìíàÿToolStripMenuItem, L"òåìíàÿToolStripMenuItem");
			this->òåìíàÿToolStripMenuItem->Name = L"òåìíàÿToolStripMenuItem";
			this->òåìíàÿToolStripMenuItem->Click += gcnew System::EventHandler(this, &EntryForm::òåìíàÿToolStripMenuItem_Click);
			// 
			// pinkyToolStripMenuItem
			// 
			resources->ApplyResources(this->pinkyToolStripMenuItem, L"pinkyToolStripMenuItem");
			this->pinkyToolStripMenuItem->Name = L"pinkyToolStripMenuItem";
			this->pinkyToolStripMenuItem->Click += gcnew System::EventHandler(this, &EntryForm::pinkyToolStripMenuItem_Click);
			// 
			// buttonPassVision
			// 
			this->buttonPassVision->BackColor = System::Drawing::Color::White;
			resources->ApplyResources(this->buttonPassVision, L"buttonPassVision");
			this->buttonPassVision->ForeColor = System::Drawing::Color::White;
			this->buttonPassVision->Name = L"buttonPassVision";
			this->buttonPassVision->UseVisualStyleBackColor = false;
			this->buttonPassVision->Click += gcnew System::EventHandler(this, &EntryForm::buttonPassVision_Click);
			// 
			// EntryForm
			// 
			this->AutoScaleMode = System::Windows::Forms::AutoScaleMode::None;
			resources->ApplyResources(this, L"$this");
			this->BackColor = System::Drawing::SystemColors::Control;
			this->Controls->Add(this->buttonPassVision);
			this->Controls->Add(this->linkLabel1);
			this->Controls->Add(this->label2);
			this->Controls->Add(this->PassworLabel2);
			this->Controls->Add(this->LoginLabel1);
			this->Controls->Add(this->label1);
			this->Controls->Add(this->EntryButton);
			this->Controls->Add(this->PasswordTextBox);
			this->Controls->Add(this->LoginTextBox);
			this->Controls->Add(this->menuStrip1);
			this->DoubleBuffered = true;
			this->MainMenuStrip = this->menuStrip1;
			this->MaximizeBox = false;
			this->Name = L"EntryForm";
			this->Load += gcnew System::EventHandler(this, &EntryForm::EntryForm_Load);
			this->menuStrip1->ResumeLayout(false);
			this->menuStrip1->PerformLayout();
			this->ResumeLayout(false);
			this->PerformLayout();

		}
#pragma endregion
		// ResourceManager Êëàññ. Ïğåäñòàâëÿåò äèñïåò÷åğ ğåñóğñîâ, îáåñïå÷èâàşùèé óäîáíûé äîñòóï ê ğåñóğñàì,
		// ñâÿçàííûì ñ ÿçûêîì è ğåãèîíàëüíûìè ïàğàìåòğàìè, âî âğåìÿ âûïîëíåíèÿ.
	private: ResourceManager^ resourceManager = gcnew ResourceManager("courseWork.EntryForm", Assembly::GetExecutingAssembly());
		   // ñîçäàåì ıêçåìïëÿğ îáúåêòà resource manager, â ïàğàìåòğàõ ïåğåäàåì ôàéë ğåñóğñîâ äëÿ òåêóùåé ôîğìû, à òàêæå ìåòîäîì Assembly::GetExecutingAssembly() ïåğåäàåì ñáîğêó, êîòîğàÿ ñîäåğæèò âûïîëíÿåìûé â òåêóùèé ìîìåíò êîä.
	private: ResourceManager^ myResourceManager = gcnew ResourceManager("courseWork.Ğåñóğñû", Assembly::GetExecutingAssembly()); // àíàëîãè÷íî òîëüêî ïåğåäàåì îáùèé äëÿ ïğîåêòà ôàéë ğåñóğñîâ
	private: int Theme = 0; // ïåğåìåííàÿ îòâå÷àşùàÿ çà òåêóùóş òåìó îêíà

		   // Ìåòîä êîòîğûé âîçíèêàåò ïğè êàæäîé çàãğóçêå ôîğìû ïîëüçîâàòåëåì
	private: System::Void EntryForm_Load(System::Object^ sender, System::EventArgs^ e) {
		ñâåòëàÿToolStripMenuItem->Enabled = false; // îòêëş÷èì êíîïó îòâå÷àşùóş çà ñìåíó öâåòà òåìû íà ñâåòëóş
		íàñòğîéêèToolStripMenuItem->Image = Image::FromFile("Icon\\setting_black.png"); // óñòàíàâëèâàåì òåìíóş êàğòèíêó íàñòğîåê
		buttonPassVision->BackgroundImage = Image::FromFile("Icon\\NotVisible.png"); // óñòàíàâëèâàåì êàğòèíêó ãëàçà
	}
		
		   // Ñîáûòèå íàæàòèå íà êíîïêó âõîäà
	private: System::Void EntryButton_Click(System::Object^ sender, System::EventArgs^ e) {
		String^ login = LoginTextBox->Text; // ïîìåùàåì â ïåğåìåííóş login òåêñò LoginTextBox
		String^ pass = PasswordTextBox->Text; // ïîìåùàåì â ïåğåìåííóş pass òåêñò PasswordTextBox

		if (login != "") // ïğîâåğÿåì ïóñòîé ëè ëîãèí
		{
			if (pass != "") // òàêæå ïğîâåğèì ïóñò ëè ïîëå ââîäà ïàğîëÿ
			{
				// StreamReader Êëàññ, Ğåàëèçóåò îáúåêò TextReader, êîòîğûé ñ÷èòûâàåò ñèìâîëû èç ïîòîêà áàéòîâ â îïğåäåëåííîé êîäèğîâêå.
				StreamReader^ sReader = gcnew StreamReader("Data\\UserData"); // ñîçäàåì ïîòîê ÷òåíèÿ èç ôàéëà UserData
				String^ line; // ñîçäàåì ïåğåìåííóş line òèïà óêàçàòåëü êëàññà String

				while ((line = sReader->ReadLine()) != nullptr) // ÷èòàåì ëèíş è ïğîâåğÿåì íå ïóñòàÿ ëè îíà
				{
					if (line == login) // ïğîâåğÿåì ñîîòâåòñòâóåò ëè ââåäåíû ïîëüçîâàòåëåì ëîãèí çàïèñíîìó â ôàéë
					{
						line = sReader->ReadLine(); // åñëè ıòî òàê òî çàïèøåì ñëåäóşùóş ñòğî÷êó ïåğåíåñåííóş line
						if (line == pass) // ïğîâåğÿåìûì ñîîòâåòñòâóåò ëè ââåäåíû ïîëüçîâàòåëåì ïàğîëü çàïèñàííîìó â ôàéë
						{
							MainForm^ open = gcnew MainForm(Theme); // ñîçäàäèì ıêçåìïëÿğ îáúåêòà ãëàâíîé ôîğìû è ïåğåäàåì ïåğåìåííóş Theme

							open->Show(); // îòîáğàçèì ãëàâíóş ôîğìó

							this->Hide(); // à òåêóùóş ñêğîåì
						}
						else // åñëè ïàğîëü íå ñîâïàäàåò
							MessageBox::Show(myResourceManager->GetString("PasNotExistEx")); // ñîîáùèì ïîëüçîâàòåëş îá ıòîì 

						sReader->Close(); // çàêğîåì ïîòîê ÷òåíèÿ
						return; // çàêîí÷èì âûïîëíåíèå ìåòîäà
					}
					else
					{
						sReader->ReadLine(); // ïğî÷òåì ñëåäóşùóş ëèíèş ôàéëà íî íå ïîìåòèì åå â ïåğåìåííóş
						// ò.ê. â íåé õğàíèòüñÿ ïàğîëü
						continue; // ïğîäîëæèì âûïîëíåíèå öèêëà
					}
				}
				// åñëè öèêë ïğîøåë è íå íàøåë ïîäõîäÿùåãî ëîãèíà
				sReader->Close(); // çàêğîåì ïîòîê ÷òåíèÿ
				MessageBox::Show(myResourceManager->GetString("LogNotExistEx")); // ñîîáùè ÷òî ââåäåííûé ïîëüçîâàòåëåì ëîãèí íå ñóùåñòâóåò
			}
			else
				MessageBox::Show(resourceManager->GetString("PassworLabel2.Text")); // ïîïğîñèì ïîëüçîâàòåëÿ ââåñòè ïàğîëü åñëè îí ïóñò
		}
		else
			MessageBox::Show(resourceManager->GetString("LoginLabel1.Text")); // åñëè ëîãèí ïóñòîé òî ïğîñèì ïîëüçîâàòåëÿ åãî ââåñòè
	}

		   // Ñîáûòèå êîòîğîå âîçíèêàåò êîãäà ïîëüçîâàòåëü íàæèìàåò è îòïóñêàåò êëàâèøó, ïğè ıòîì ıëåìåíò óïğàâëåíèÿ íàõîäèòüñÿ â ôîêóñå
	private: System::Void LoginTextBox_KeyPress(System::Object^ sender, System::Windows::Forms::KeyPressEventArgs^ e) {
		if (e->KeyChar == 13) // ïğîâåğÿåìûì ÿâëÿåòñÿ ëè ââåäåííûé ïîëüçîâàòåëåì ñèìâîë ñèìâîëîì íîâîé ñòğîêè ñ êîäîì 13
		{
			PasswordTextBox->Focus(); // ïåğåâîäèì êóğñîğ íà ñëåäóşùèé òåêñò áîêñ
			e->Handled = true; // ñîîáùàåì ÷òî ñîáûòèå áûëî îáğàáîòàíî
		}
	}
		   // Ñîáûòèå êîòîğîå âîçíèêàåò êîãäà ïîëüçîâàòåëü íàæèìàåò è îòïóñêàåò êëàâèøó, ïğè ıòîì ıëåìåíò óïğàâëåíèÿ íàõîäèòüñÿ â ôîêóñå
	private: System::Void PasswordTextBox_KeyPress(System::Object^ sender, System::Windows::Forms::KeyPressEventArgs^ e) {
		if (e->KeyChar == 13) // ïğîâåğÿåì ÿâëÿåòñÿ ëè ââåäåííûé ïîëüçîâàòåëåì ñèìâîë ñèìâîëîì íîâîé ñòğîêè ñ êîäîì 13
		{
			EntryButton_Click(this, gcnew EventArgs());
			e->Handled = true; // ñîîáùàåì ÷òî ñîáûòèå áûëî îáğàáîòàíî
		}
	}
		   // Ïğîèñõîäèò êîãäà ıëåìåíò óïğàâëåíèÿ ñòàíîâèòüñÿ àêòèâíûì
	private: System::Void LoginTextBox_Enter(System::Object^ sender, System::EventArgs^ e) {
		LoginLabel1->Visible = false; // äåëàì LoginLabel1 íåâèäèìûì
	}
		   // Ïğîèñõîäèò êîãäà ıëåìåíò óïğàâëåíèÿ ñòàíîâèòüñÿ àêòèâíûì
	private: System::Void PasswordTextBox_Enter(System::Object^ sender, System::EventArgs^ e) {
		PassworLabel2->Visible = false; // äåëàì PassworLabel2 íåâèäèìûì
	}

		   // Ïğîèñõîäèò êîãäà ıëåìåíò óïğàâëåíèÿ ïåğåñòàåò áûòü àêòèâíûì
	private: System::Void LoginTextBox_Leave(System::Object^ sender, System::EventArgs^ e) {
		if (this->LoginTextBox->Text == "") // ïğîâåğÿåì ïóñòîé ëè textBox
			LoginLabel1->Visible = true; // åñëè ıòî òàê òî äåëàì LoginLabel1 âèäèìûì
	}
		   // Ïğîèñõîäèò êîãäà ıëåìåíò óïğàâëåíèÿ ïåğåñòàåò áûòü àêòèâíûì
	private: System::Void PasswordTextBox_Leave(System::Object^ sender, System::EventArgs^ e) {
		if (this->PasswordTextBox->Text == "") // ïğîâåğÿåì ïóñòîé ëè textBox
			PassworLabel2->Visible = true; // åñëè ıòî òàê òî äåëàì PassworLabel2 âèäèìûì
	}
		   // Ïğîèñõîäèò ïğè ùåë÷êå ıëåìåíòà óïğàâëåíèÿ
	private: System::Void LoginLabel1_Click(System::Object^ sender, System::EventArgs^ e) {
		LoginTextBox->Focus(); // ïåğåâîäèì ôîêóñ íà textBox íàõîäÿùèéñÿ ïîä label'îì
	}

		   // Ïğîèñõîäèò ïğè ùåë÷êå ıëåìåíòà óïğàâëåíèÿ
	private: System::Void PassworLabel2_Click(System::Object^ sender, System::EventArgs^ e) {
		PasswordTextBox->Focus(); // ïåğåâîäèì ôîêóñ íà textBox íàõîäÿùèéñÿ ïî label'îì
	}

		   // Ñîáûòèå íà íàæàòèå êíîïêè îòîáğàæåíèÿ ïàğîëÿ
	private: System::Void buttonPassVision_Click(System::Object^ sender, System::EventArgs^ e) {
		if (PasswordTextBox->UseSystemPasswordChar) // ïğîâåğÿåì äîëæåí ëè òåêñò â TextBox îòîáğàæàòüñÿ êàê çíàê ïàğîëÿ ïî óìîë÷àíèş
		{
			PasswordTextBox->UseSystemPasswordChar = false; // åñëè ıòî òàê òî îòêëş÷àåì îòîáğàæåíèå ïàğîëÿ

			buttonPassVision->BackgroundImage = Image::FromFile("Icon\\NotVisible.png"); //  è ìåíÿåì èçîáğàæåíèå êíîïêè
		}
		else
		{
			PasswordTextBox->UseSystemPasswordChar = true; //  â ïğîòèâíîì ñëó÷àåì ñêğûâàåì òåêñò çíàêîì ïàğîëÿ ïî óìîë÷àíèş

			buttonPassVision->BackgroundImage = Image::FromFile("Icon\\Visible.png"); //  è òàêæå ìåíÿåì èçîáğàæåíèå êíîïêè
		}
	}

		   // Îòêğûòèå ôîğìû ğåãèñòğàöèè
	private: System::Void linkLabel1_LinkClicked(System::Object^ sender, System::Windows::Forms::LinkLabelLinkClickedEventArgs^ e);

		   // Ñìåíà òåìû íà ñâåòëóş
	private: System::Void ñâåòëàÿToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e) {
		this->BackgroundImage = Image::FromFile("Backgrounds\\09. Light Sky Blue.png"); // ìåíÿåì îáåçîáğàæåíèå ôîíà
		EntryButton->BackColor = Color::Turquoise; // öâåò êíîïêè
		íàñòğîéêèToolStripMenuItem->Image = Image::FromFile("Icon\\setting_black.png"); // è èêîíêó íàñòğîåê ÷òîáû îíà áûëà âèäíà íà ôîíå

		changeColor(Color::Black); // ïåğåäàåì ïàğàìåòğ öâåòà â ôóíêöèş äëÿ ñìåíû öâåòà ıëåìåíòîâ ôîğìû

		ñâåòëàÿToolStripMenuItem->Enabled = false; // îòêëş÷èì êíîïó òåìû

		Theme = 0; // è ïğèñâàèâàåì ïåğåìåííîé êîä òåìû
	}

		   // Ñìåíà òåìû íà òåìíóş
	private: System::Void òåìíàÿToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e) {
		this->BackgroundImage = Image::FromFile("Backgrounds\\100. Chetwode Blue.png"); // ìåíÿåì èçîáğàæåíèå ôîíà
		EntryButton->BackColor = Color::DarkSlateBlue; // öâåò êíîïêè
		íàñòğîéêèToolStripMenuItem->Image = Image::FromFile("Icon\\setting_white.png"); // è èêîíêó íàñòğîåê ÷òîáû îíà áûëà âèäíà íà ôîíå

		changeColor(Color::White); // ïåğåäàåì ïàğàìåòğ öâåòà â ôóíêöèş äëÿ ñìåíû öâåòà ıëåìåíòîâ ôîğìû

		òåìíàÿToolStripMenuItem->Enabled = false; // îòêëş÷èì êíîïó òåìû

		Theme = 1; // è ïğèñâàèâàåì ïåğåìåííîé êîä òåìû
	}

		   // Ñìåíà òåìû íà ğîçîâóş
	private: System::Void pinkyToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e) {
		this->BackgroundImage = Image::FromFile("Backgrounds\\59. Light Blue.png"); // ìåíÿåì îáåçîáğàæåíèå ôîíà
		EntryButton->BackColor = ColorTranslator::FromHtml("#E59DD0"); // öâåò êíîïêè (îïğåäåëÿåì öâåò êíîïêè ïî 16-îìó êîäû äëÿ ÷åãî èñïîëüçóåì ìåòîä ColorTranslator::FromHtml())
		íàñòğîéêèToolStripMenuItem->Image = Image::FromFile("Icon\\setting_black.png"); // è èêîíêó íàñòğîåê ÷òîáû îíà áûëà âèäíà íà ôîíå

		changeColor(Color::Black); // ïåğåäàåì ïàğàìåòğ öâåòà â ôóíêöèş äëÿ ñìåíû öâåòà ıëåìåíòîâ ôîğìû

		pinkyToolStripMenuItem->Enabled = false; // îòêëş÷èì êíîïó òåìû

		Theme = 2; // è ïğèñâàèâàåì ïåğåìåííîé êîä òåìû
	}

		   // Èçìåíåíèå öâåòà òåêñòà Control'îâ
	private: void changeColor(Color cl) {
		for each (Control ^ ct in Controls) // èñïîëüçóåì öèêë for each äëÿ ïåğåáîğà âñåõ ıëåìåíòîâ óïğàâëåíèÿ ôîğìû ñîäåğæàùèé â êîëëåêöèè  Controls
		{
			if (ct != LoginLabel1 && ct != PassworLabel2 && ct != LoginTextBox && ct != PasswordTextBox && ct != buttonPassVision) // ïğîâåğèì ÿâëÿåòñÿ ëè î÷åğåäíîé ıëåìåíò óïğàâëåíèÿ îäíèì èç ïğåäëîæåííûõ
				ct->ForeColor = cl; // åñëè ıòî íå òàê òî ìåíÿåì öâåò òåêñòà
		}
		linkLabel1->LinkColor = cl; // îòäåëüíî ìåíÿåì öâåò òåêñòà ó linkLabel1 èñïîëüçóÿ äğóãîå ïîëå äëÿ îïğåäåëåíèÿ öâåòà
		íàñòğîéêèToolStripMenuItem->ForeColor = cl; // à òàêæå öâåò êíîïêè íàñòğîåê ò.ê. îí íå ÿâëÿåòñÿ ÷àñòüş êîëëåêöèè Controls

		// ïîñëåäîâàòåëüíî âêëş÷àåì âñå êíîïêè òåì
		ñâåòëàÿToolStripMenuItem->Enabled = true;
		òåìíàÿToolStripMenuItem->Enabled = true;
		pinkyToolStripMenuItem->Enabled = true;
	}
		   // Âîçíèêàåò ïğè îòêğûòèè DropDown
	private: System::Void íàñòğîéêèToolStripMenuItem_DropDownOpening(System::Object^ sender, System::EventArgs^ e) {
		íàñòğîéêèToolStripMenuItem->ForeColor = Color::Black; // ïåğåêğàñèì öâåò êíîïêè â ÷åğíûé ïîòîìó ÷òî ôîò âñåãäà áóäåò áåëûì
		íàñòğîéêèToolStripMenuItem->Image = Image::FromFile("Icon\\setting_black.png"); // ïî ıòîé æå ïğè÷èíå ìåíÿåì èêîíêó êíîïêè
	}
		   // Âîçíèêàåì ïğè çàêğûòèè DropDown
	private: System::Void íàñòğîéêèToolStripMenuItem_DropDownClosed(System::Object^ sender, System::EventArgs^ e) {
		if (Theme == 1) // åñëè êîä òåìû 1 òî åñòü òåìíàÿ
		{
			íàñòğîéêèToolStripMenuItem->ForeColor = Color::White; // òî âîçâğàùàåì öâåò êíîïêè íàñòğîåê
			íàñòğîéêèToolStripMenuItem->Image = Image::FromFile("Icon\\setting_white.png"); // è å¸ èêîíêó
		}
	}
		   // Ïğîèñõîäèò ïğè ñìåíå ÿçûêà íó ğóññêèé
	private: System::Void ğóññêèéToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e) {
		changeLang(""); // ïåğåäàåì ïóñòîé ïàğàìåòğ ÿçûêà ò.ê. ğóññêèé ïî óìîë÷àíèş è îò âûáîğà ëşáîãî äğóãîãî ğåçóëüòàò íå ïîìåíÿòüñÿ
	}
		   // Ïğîèñõîäèò ïğè ñìåíå ÿçûêà íó áåëîğóññêèé
	private: System::Void áåëàğóñê³ToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e) {
		changeLang("be"); // ïåğåäàåì áåëîğóññêèé ÿçûê
	}
		   // Ïğîèñõîäèò ïğè ñìåíå ÿçûêà íó àíãëèéñêèé
	private: System::Void englishToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e) {
		changeLang("en"); // ïåğåäàåì ïàğàìåòğ àíãëèéñêèé ÿçûê
	}
		   // Ìåòîä ñìåíû ÿçûêà (ïğèìåíåíèÿ ğåñóğñîâ ÿçûêà)
	private: void changeLang(String^ l) {
		// çàäàåì ÿçûê è ğåãèîíàëüíûå ïàğàìåòğû äëÿ òåêóùåãî ïîòîêà
		Thread::CurrentThread->CurrentUICulture = gcnew Globalization::CultureInfo(l);
		Thread::CurrentThread->CurrentCulture = gcnew Globalization::CultureInfo(l);

		this->Text = resourceManager->GetString("$this.Text"); // ïîìåùàåì òåêñò çàãîëîâêà çàïèñàííûé â ôàéëå ğåñóğñîâ ïğè ïîìîùè resourceManager

		ComponentResourceManager^ resources = gcnew ComponentResourceManager(this->GetType()); // ñîçäàåì îáúåêò êîòîğûé èùåò ğåñóğñû â ñîïóòñòâóşùèé ñáîğêàõ

		for each (Control ^ ct in Controls) // èñïîëüçóåì öèêë for each äëÿ ïåğåáîğà âñåõ ıëåìåíòîâ óïğàâëåíèÿ ôîğìû ñîäåğæàùèé â êîëëåêöèè  Controls
		{
			resources->ApplyResources(ct, ct->Name); // ïğèìåíÿò çíà÷åíèå ğåñóğñà ê ñîîòâåòñòâóşùåìó ñâîéñòâó îáúåêòà
		}

		// âêëş÷àåì âñå êíîïêè ñìåíû ÿçûêà
		ğóññêèéToolStripMenuItem->Enabled = true;
		áåëàğóñê³ToolStripMenuItem->Enabled = true;
		englishToolStripMenuItem->Enabled = true;

		for each (ToolStripMenuItem ^ item in menuStrip1->Items) // èñïîëüçóåì öèêë for each äëÿ ïåğåáîğà âñåõ ıëåìåíòîâ óïğàâëåíèÿ ôîğìû ñîäåğæàùèé â êîëëåêöèè  menuStrip1->Items
		{
			applyLangToToolStripMenu(resources, item); // öèêëè÷åñêè âûçûâàåì ğåêóğñèâíûé ìåòîä ïğèìåíåíèÿ ğåñóğñîâ ê ıëåìåíòàì menuStrip1
		}
	}
		   // Ìåòîä ïğèìåíåíèÿ ğåñóğñîâ ê ıëåìåíòàì ToolStripMenu
	private: void applyLangToToolStripMenu(ComponentResourceManager^ resources, ToolStripMenuItem^ item)
	{
		resources->ApplyResources(item, item->Name); // ïğèìåíÿò çíà÷åíèå ğåñóğñà ê ñîîòâåòñòâóşùåìó ñâîéñòâó îáúåêòà
		for each (ToolStripMenuItem ^ itm in item->DropDownItems) // ïåğåáèğàåì ıëåìåíòû êîëëåêöèè DropDownItems
			applyLangToToolStripMenu(resources, itm); // ğåêóğñèâíî âûçûâàåì ìåòîä
	}
};
}
